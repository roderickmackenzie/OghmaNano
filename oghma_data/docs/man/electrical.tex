\chapter{Theory of drift diffusion modelling}
\label{sec:electrical}

\section{Outline}
OghmaNano's electrical model is a 1D/2D drift-diffusion model (like many others) however the special thing about OghmaNano which makes it very good for disordered materials (Think organics, perovskites and a-Si) is that it goes to the trouble of explicitly solving the Shockley-Read-Hall equations as a function of energy and position space.  This enables one to model effects such as mobility/recombination rates changing as a function of carrier population and enables one to correctly model transients as one does not have to assume all the carriers in the trap states have reached equilibrium.  Things such as ToF transients, CELIV transients etc.. can be modelled with ease. Of course can be used for more ordered materials as well, you then just need to turn the traps off.


\section{Electrostatic potential}
The conduction band/valance band (or LUMO/HOMO in organic semiconductor speak) are defined as

\begin{equation}
E_{LUMO}=-\chi-q\phi
\end{equation}

\begin{equation}
E_{HOMO}=-\chi-E_g-q\phi
\end{equation}

To obtain the internal potential distribution within the device Poisson's equation is solved,

\begin{equation}
\label{eq:pos}
\nabla \cdot \epsilon_0 \epsilon_r \nabla = q (n_{f}+n_{t}-p_{f}-p_{t}-N_{ad}+-N_{ion}+a),
\end{equation}

where $n_{f}$, $n_{t}$ are the carrier densities of free and trapped electrons; $p_{f}$ and $p_{t}$ are the carrier densities of the free and trapped holes; and $N_{ad}$ is the doping density. $N_{ion}$ is the background density of perovskite ions and a is the density of mobile ions.

\section{Free charge carrier statistics}
For free carriers the model can either use Maxwell-Boltzmann statistics i.e.

\begin{equation}
n_{l}=N_c exp \left (\frac{F_n-E_{c}}{kT} \right)
\end{equation}

\begin{equation}
p_{l}=N_v exp \left(\frac{E_{v}-F_p}{kT} \right)
\end{equation}


or full Fermi-dirac statistics i.e.

\begin{equation}
n_{free}(E_{f},T)=\int^{\infty}_{E_{min}} \rho(E) f(E,E_{f},T) dE
\end{equation}

\begin{equation}
p_{free}(E_{f},T)=\int^{\infty}_{E_{min}} \rho(E) f(E,E_{f},T) dE
\end{equation}

where

\begin{equation}
f(E)=\frac{1}{1+e^{{E-E_f}/kT}}
\end{equation}

When using FD statistics free carriers are assumed to move in a parabolic band:

\begin{equation}
\rho(E)_{3D}=\frac{\sqrt{E}}{4\pi^2} \left ( \frac{2m^{*}}{\hbar^2}\right )^{3/2}
\end{equation}

The average energy of the carriers is defined as

\begin{equation}
\label{eq:energy}
\bar{W}(E_{f},T)=\frac{\int^{\infty}_{E_{min}} E \rho(E) f(E,E_{f},T) dE}{\int^{\infty}_{E_{min}} \rho(E) f(E,E_{f},T) dE}
\end{equation}

\input{electrical_srh_intro.tex}
\input{electrical_ss_srh.tex}
\input{electrical_srh.tex}
\input{electrical_f2f.tex}
\input{electrical_auger.tex}
\input{electrical_transport.tex}
\input{electrical_perovskite.tex}
\input{interfaces.tex}
\input{electrical_built_in_potential.tex}
\input{electrical_average_mobility.tex}
\input{electrical_solverconfig.tex}
\input{free_to_free_is_bad.tex}
